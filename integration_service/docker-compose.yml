version: '3.8'  
  
services:  
  integration-service:  
    build: .  
    ports:  
      - "9000:9000"  
    environment:  
      - API_PORT=9000  
      - ATOMSPACE_API_URL=http://atomspace-api:8000  
      - NEURAL_MINER_URL=http://neural-miner:5000  
      - ANNOTATION_SERVICE_URL=http://annotation-service:5800/annotation/load  
    volumes:  
      - shared_output:/shared/output  
      - csv_cache:/app/cache  
    depends_on:  
      - atomspace-api  
      - neural-miner  
  
  atomspace-api:  
    build: ./submodules/custom-atomspace-builder  
    volumes:  
      - shared_output:/shared/output  
  
  neural-miner:  
    build: ./submodules/neural-subgraph-miner  
    volumes:  
      - shared_output:/shared/output  
  
volumes:  
  shared_output:  
  csv_cache: